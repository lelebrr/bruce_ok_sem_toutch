[env:ESP32-3248S035R]
board = ESP32-3248S035R
board_build.partitions = custom_4Mb_full.csv
monitor_speed = 115200
build_src_filter = ${env.build_src_filter} +<../boards/ESP32-3248S035R>
build_flags =
    ${env.build_flags}
    -Iboards/ESP32-3248S035R
    -Os
    -DCORE_DEBUG_LEVEL=0
    -DCONFIG_ESP32_JTAG_SUPPORT_DISABLE=1

    ; Screen setup
    -DHAS_SCREEN=1
    -DHAS_TOUCH=1
    -DROTATION=1

    ; TFT_eSPI setup (matching boards/ESP32-3248S035R/User_Setup.h)
    -DST7796_DRIVER=1
    -DUSE_HSPI_PORT=1
    -DTFT_WIDTH=320
    -DTFT_HEIGHT=480
    -DTFT_MISO=12
    -DTFT_MOSI=13
    -DTFT_SCLK=14
    -DTFT_CS=15
    -DTFT_DC=2
    -DTFT_RST=4
    -DTFT_BL=27
    -DTOUCH_CS=33
    -DSMOOTH_FONT=1
    -DSPI_FREQUENCY=27000000
    -DSPI_READ_FREQUENCY=20000000
    -DSPI_TOUCH_FREQUENCY=2500000

    ; Touch using TFT_eSPI helper
    -DUSE_TFT_eSPI_TOUCH

    ; SD card on VSPI
    -DSDCARD_CS=5
    -DSDCARD_SCK=18
    -DSDCARD_MISO=19
    -DSDCARD_MOSI=23

    ; Brightness control (PWM on TFT_BL)
    -DTFT_BRIGHT_CHANNEL=0
    -DTFT_BRIGHT_Bits=8
    -DTFT_BRIGHT_FREQ=5000

    ; Default I2C (external header)
    -DGROVE_SDA=21
    -DGROVE_SCL=22

    ; SPI bus for CC1101 / NRF24 / W5500 will be configured from these pins
    -DSPI_SCK_PIN=18
    -DSPI_MOSI_PIN=23
    -DSPI_MISO_PIN=19
    -DSPI_SS_PIN=27

    -DDEVICE_NAME="Sunton ESP32-3248S035R"

[env:ESP32-3248S035R-resistive]
extends = env:ESP32-3248S035R
build_flags =
    ${env:ESP32-3248S035R.build_flags}
    -DBRUCE_VERSION="dev"
    -DGIT_COMMIT_HASH="custom"
    -DUSE_RESISTIVE_TOUCH=1
    -DTOUCH_TYPE=1

lib_deps =
    bblanchon/ArduinoJson@^7.0.3
    spacehuhn/SimpleCLI@^1.1.0
    fbiego/ESP32Time@^2.0.0
    arduino-libraries/NTPClient@^3.2.1
    jchristensen/Timezone@^1.2.4
    paulstoffregen/Time@^1.6.1
    bitbank2/AnimatedGIF@^2.1.0
    me-no-dev/AsyncTCP@^1.1.1
    me-no-dev/ESPAsyncWebServer@^3.1.0
    h2zero/NimBLE-Arduino@^1.4.1
    fastled/FastLED@^3.9.4
    paulstoffregen/OneWire@^2.3.7
    nRF24/RF24@^1.4.7
    mikalhart/TinyGPSPlus@^1.0.3
    crankyoldgit/IRremoteESP8266@^2.8.6
    bodmer/TFT_eSPI@^2.5.43
    Adafruit GFX Library@^1.11.9
    Adafruit BusIO@^1.17.4
    https://github.com/LSatan/SmartRC-CC1101-Driver-Lib.git
    sui77/rc-switch@^2.6.4
